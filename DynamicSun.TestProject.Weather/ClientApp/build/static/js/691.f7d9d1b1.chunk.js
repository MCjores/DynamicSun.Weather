"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[691],{3691:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(2982),i=r(885),s=r(4740),c=r(2791),d=r(8116),a=-1,o=function(e,n){var r=n-e+1;return Array.from({length:r},(function(n,r){return r+e}))},l=r(184),u=function(e){var n=e.onPageChange,r=e.totalCount,i=e.siblingCount,s=void 0===i?1:i,u=e.currentPage,h=e.pageSize,f=(e.className,function(e){var n=e.totalCount,r=e.pageSize,i=e.siblingCount,s=void 0===i?1:i,d=e.currentPage;return(0,c.useMemo)((function(){var e=Math.ceil(n/r);if(s+5>=e)return o(1,e);var i=Math.max(d-s,1),c=Math.min(d+s,e),l=i>2,u=c<e-2,h=1,f=e;if(!l&&u){var x=o(1,3+2*s);return[].concat((0,t.Z)(x),[a,e])}if(l&&!u){var j=o(e-(3+2*s)+1,e);return[h,a].concat((0,t.Z)(j))}if(l&&u){var v=o(i,c);return[h,a].concat((0,t.Z)(v),[a,f])}}),[n,r,s,d])}({currentPage:u,totalCount:r,siblingCount:s,pageSize:h}));if(0===u||f.length<2)return null;var x=f[f.length-1];return(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(d.Z.Prev,{disabled:1===u,onClick:function(){n(u-1)}}),f.map((function(e){return e===a?(0,l.jsx)(d.Z.Ellipsis,{}):(0,l.jsx)(d.Z.Item,{active:e===u,onClick:function(){return n(e)},children:e})})),(0,l.jsx)(d.Z.Next,{onClick:function(){n(u+1)},disabled:u===x})]})},h=r(2426),f=r.n(h),x=r(2591),j=r(8786),v=function(){var e=(0,s.T)(),n=(0,s.C)((function(e){return e.view})),r=n.weatherDatas,d=n.filter,a=n.status,o=(0,c.useState)([]),h=(0,i.Z)(o,2),v=h[0],m=h[1],g=(0,c.useState)(1),p=(0,i.Z)(g,2),Z=p[0],C=p[1],y=(0,c.useMemo)((function(){var e=10*(Z-1),n=e+10;return v.slice(e,n)}),[Z,v]);(0,c.useEffect)((function(){return e((0,j.Is)()),function(){e((0,j.Nk)())}}),[]);var T=function(e){return e.sort((function(e,n){return e.dateTime<n.dateTime?-1:e.dateTime>n.dateTime?1:0}))};return(0,c.useEffect)((function(){!function(){var e=(0,t.Z)(r);!(d.month+1)&&d.year,d.month+1||!d.year||(e=r.filter((function(e){return f()(e.dateTime).year()===d.year}))),d.month+1&&!d.year&&(e=r.filter((function(e){return f()(e.dateTime).month()===d.month}))),d.month+1&&d.year&&(e=r.filter((function(e){return f()(e.dateTime).month()===d.month&&f()(e.dateTime).year()===d.year}))),m(T(e))}(),C(1)}),[d,r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"DateTime"}),(0,l.jsx)("th",{children:"Temp"}),(0,l.jsx)("th",{children:"Wet"}),(0,l.jsx)("th",{children:"Td"}),(0,l.jsx)("th",{children:"AtmPressure"}),(0,l.jsx)("th",{children:"WindDirection"}),(0,l.jsx)("th",{children:"WindSpeed"}),(0,l.jsx)("th",{children:"\u0421loudiness"}),(0,l.jsx)("th",{children:"H"}),(0,l.jsx)("th",{children:"VV"}),(0,l.jsx)("th",{children:"Phenomen"})]})}),(0,l.jsx)("tbody",{children:y.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:f()(e.dateTime).format("DD-MM-yyyy HH:mm")}),(0,l.jsx)("td",{children:e.temp}),(0,l.jsx)("td",{children:e.wet}),(0,l.jsx)("td",{children:e.td}),(0,l.jsx)("td",{children:e.atmPressure}),(0,l.jsx)("td",{children:e.windDirection}),(0,l.jsx)("td",{children:e.windSpeed}),(0,l.jsx)("td",{children:e.\u0441loudiness}),(0,l.jsx)("td",{children:e.h}),(0,l.jsx)("td",{children:e.vv}),(0,l.jsx)("td",{children:e.phenomen})]},e.dateTime)}))})]}),0===y.length&&(0,l.jsx)("span",{children:a.isError?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445":"\u0421\u043e\u0431\u0438\u0440\u0430\u044e \u0434\u0430\u043d\u043d\u044b\u0435..."}),(0,l.jsx)(u,{className:"pagination-bar",currentPage:Z,totalCount:v.length,pageSize:10,onPageChange:function(e){return C(e)}})]})},m=r(323),g=r(1424),p=r(8613),Z=r(3360),C=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],y=function(){var e=(0,s.C)((function(e){return e.view.weatherDatas})),n=(0,s.C)((function(e){return e.view.status})),r=(0,c.useRef)(null),t=(0,c.useRef)(null),i=(0,s.T)();return(0,l.jsxs)("div",{className:"view--control",children:[(0,l.jsxs)("div",{className:"view--control_select",children:[(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(g.Z,{children:"\u0413\u043e\u0434"}),(0,l.jsxs)(p.Z,{ref:t,children:[(0,l.jsx)("option",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),function(){var n=e.map((function(e){return f()(e.dateTime).year()})).sort();return Array.from(new Set(n))}().map((function(e){return(0,l.jsx)("option",{children:e},e)}))]})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(g.Z,{children:"\u041c\u0435\u0441\u044f\u0446"}),(0,l.jsxs)(p.Z,{ref:r,children:[(0,l.jsx)("option",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),C.map((function(e){return(0,l.jsx)("option",{children:e},e)}))]})]})]}),(0,l.jsx)("div",{className:"view--control_btns",children:(0,l.jsxs)("div",{className:"btns",children:[(0,l.jsx)(Z.Z,{onClick:function(){var e,n,s,c,d="\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"===(null===(e=t.current)||void 0===e?void 0:e.value)?void 0:Number(null===(n=t.current)||void 0===n?void 0:n.value),a="\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"===(null===(s=r.current)||void 0===s?void 0:s.value)?void 0:C.indexOf(null===(c=r.current)||void 0===c?void 0:c.value);i((0,j.Tv)({year:d,month:a}))},disabled:n.isLoading||n.isError,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,l.jsx)(Z.Z,{onClick:function(){i((0,j.Tv)({year:void 0,month:void 0}))},disabled:n.isLoading||n.isError,children:"\u0412\u0441\u0435"}),n.isError&&(0,l.jsx)(Z.Z,{disabled:n.isLoading,onClick:function(){return i((0,j.Is)())},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]})})]})},T=function(){return(0,l.jsxs)("div",{className:"view",children:[(0,l.jsx)(y,{}),(0,l.jsx)(v,{})]})}}}]);
//# sourceMappingURL=691.f7d9d1b1.chunk.js.map